<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Plato - node_modules/grunt-legacy-log/node_modules/underscore.string/test/test_underscore/functions.js</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">

  <!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <link href="../../assets/css/vendor/morris.css" rel="stylesheet">
  <link href="../../assets/css/vendor/bootstrap.css" rel="stylesheet">
  <link href="../../assets/css/vendor/font-awesome.css" rel="stylesheet">
  <link href="../../assets/css/vendor/codemirror.css" rel="stylesheet">
  <link href="../../assets/css/plato.css" rel="stylesheet">
  <link href="../../assets/css/plato-file.css" rel="stylesheet">

</head>

<body>

<div class="navbar navbar-fixed-top">
  <div class="container">
    <a class="navbar-brand" href="http://github.com/es-analysis/plato">Plato on Github</a>
    <ul class="nav navbar-nav">
      <li>
        <a href="../../index.html">Report Home</a>
      </li>
    </ul>
  </div>
</div>

<div class="jumbotron">
  <div class="container">
    <h1>node_modules/grunt-legacy-log/node_modules/underscore.string/test/test_underscore/functions.js</h1>
  </div>
</div>

<div class="container aggregate-stats">
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Maintainability <a href="http://blogs.msdn.com/b/codeanalysis/archive/2007/11/20/maintainability-index-range-and-meaning.aspx"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="A value between 0 and 100 that represents the relative ease of maintaining the code. A high value means better maintainability." data-original-title="Maintainability Index"  data-container="body"></i></a></h2>
      <p class="stat">74.28</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Lines of code <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h2>
      <p class="stat">259</p>
    </div>
  </div>
  <div class="row historical">
    <div class="col-md-6">
      <p id="chart_historical_maint" class="chart"></p>
    </div>
    <div class="col-md-6">
      <p id="chart_historical_sloc" class="chart"></p>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Difficulty  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="The difficulty measure is related to the difficulty of the program to write or understand." data-original-title="Difficulty" data-container="body"></i></a></h2>
      <p class="stat">44.65</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Estimated Errors  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Halstead's delivered bugs is an estimate for the number of errors in the implementation." data-original-title="Delivered Bugs" data-container="body"></i></a></h2>
      <p class="stat">3.72</p>
    </div>
  </div>
</div>

<div class="container charts">
  <div class="row">
    <h2 class="header">Function weight</h2>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h3 class="chart-header">By Complexity <a href="http://en.wikipedia.org/wiki/Cyclomatic_complexity"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="This metric counts the number of distinct paths through a block of code. Lower values are better." data-original-title="Cyclomatic Complexity" data-container="body"></i></a></h3>
      <div id="fn-by-complexity" class="stat"></div>
    </div>
    <div class="col-md-6">
      <h3 class="chart-header">By SLOC  <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h3>
      <div id="fn-by-sloc" class="stat"></div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row">
    <textarea id="file-source" class="col-md-12">$(document).ready(function() {

  module(&quot;Functions&quot;);

  test(&quot;bind&quot;, function() {
    var context = {name : &#039;moe&#039;};
    var func = function(arg) { return &quot;name: &quot; + (this.name || arg); };
    var bound = _.bind(func, context);
    equal(bound(), &#039;name: moe&#039;, &#039;can bind a function to a context&#039;);

    bound = _(func).bind(context);
    equal(bound(), &#039;name: moe&#039;, &#039;can do OO-style binding&#039;);

    bound = _.bind(func, null, &#039;curly&#039;);
    equal(bound(), &#039;name: curly&#039;, &#039;can bind without specifying a context&#039;);

    func = function(salutation, name) { return salutation + &#039;: &#039; + name; };
    func = _.bind(func, this, &#039;hello&#039;);
    equal(func(&#039;moe&#039;), &#039;hello: moe&#039;, &#039;the function was partially applied in advance&#039;);

    var func = _.bind(func, this, &#039;curly&#039;);
    equal(func(), &#039;hello: curly&#039;, &#039;the function was completely applied in advance&#039;);

    var func = function(salutation, firstname, lastname) { return salutation + &#039;: &#039; + firstname + &#039; &#039; + lastname; };
    func = _.bind(func, this, &#039;hello&#039;, &#039;moe&#039;, &#039;curly&#039;);
    equal(func(), &#039;hello: moe curly&#039;, &#039;the function was partially applied in advance and can accept multiple arguments&#039;);

    func = function(context, message) { equal(this, context, message); };
    _.bind(func, 0, 0, &#039;can bind a function to `0`&#039;)();
    _.bind(func, &#039;&#039;, &#039;&#039;, &#039;can bind a function to an empty string&#039;)();
    _.bind(func, false, false, &#039;can bind a function to `false`&#039;)();

    // These tests are only meaningful when using a browser without a native bind function
    // To test this with a modern browser, set underscore&#039;s nativeBind to undefined
    var F = function () { return this; };
    var Boundf = _.bind(F, {hello: &quot;moe curly&quot;});
    equal(new Boundf().hello, undefined, &quot;function should not be bound to the context, to comply with ECMAScript 5&quot;);
    equal(Boundf().hello, &quot;moe curly&quot;, &quot;When called without the new operator, it&#039;s OK to be bound to the context&quot;);
  });

  test(&quot;bindAll&quot;, function() {
    var curly = {name : &#039;curly&#039;}, moe = {
      name    : &#039;moe&#039;,
      getName : function() { return &#039;name: &#039; + this.name; },
      sayHi   : function() { return &#039;hi: &#039; + this.name; }
    };
    curly.getName = moe.getName;
    _.bindAll(moe, &#039;getName&#039;, &#039;sayHi&#039;);
    curly.sayHi = moe.sayHi;
    equal(curly.getName(), &#039;name: curly&#039;, &#039;unbound function is bound to current object&#039;);
    equal(curly.sayHi(), &#039;hi: moe&#039;, &#039;bound function is still bound to original object&#039;);

    curly = {name : &#039;curly&#039;};
    moe = {
      name    : &#039;moe&#039;,
      getName : function() { return &#039;name: &#039; + this.name; },
      sayHi   : function() { return &#039;hi: &#039; + this.name; }
    };
    _.bindAll(moe);
    curly.sayHi = moe.sayHi;
    equal(curly.sayHi(), &#039;hi: moe&#039;, &#039;calling bindAll with no arguments binds all functions to the object&#039;);
  });

  test(&quot;memoize&quot;, function() {
    var fib = function(n) {
      return n &lt; 2 ? n : fib(n - 1) + fib(n - 2);
    };
    var fastFib = _.memoize(fib);
    equal(fib(10), 55, &#039;a memoized version of fibonacci produces identical results&#039;);
    equal(fastFib(10), 55, &#039;a memoized version of fibonacci produces identical results&#039;);

    var o = function(str) {
      return str;
    };
    var fastO = _.memoize(o);
    equal(o(&#039;toString&#039;), &#039;toString&#039;, &#039;checks hasOwnProperty&#039;);
    equal(fastO(&#039;toString&#039;), &#039;toString&#039;, &#039;checks hasOwnProperty&#039;);
  });

  asyncTest(&quot;delay&quot;, 2, function() {
    var delayed = false;
    _.delay(function(){ delayed = true; }, 100);
    setTimeout(function(){ ok(!delayed, &quot;didn&#039;t delay the function quite yet&quot;); }, 50);
    setTimeout(function(){ ok(delayed, &#039;delayed the function&#039;); start(); }, 150);
  });

  asyncTest(&quot;defer&quot;, 1, function() {
    var deferred = false;
    _.defer(function(bool){ deferred = bool; }, true);
    _.delay(function(){ ok(deferred, &quot;deferred the function&quot;); start(); }, 50);
  });

  asyncTest(&quot;throttle&quot;, 2, function() {
    var counter = 0;
    var incr = function(){ counter++; };
    var throttledIncr = _.throttle(incr, 100);
    throttledIncr(); throttledIncr(); throttledIncr();
    setTimeout(throttledIncr, 70);
    setTimeout(throttledIncr, 120);
    setTimeout(throttledIncr, 140);
    setTimeout(throttledIncr, 190);
    setTimeout(throttledIncr, 220);
    setTimeout(throttledIncr, 240);
    _.delay(function(){ equal(counter, 1, &quot;incr was called immediately&quot;); }, 30);
    _.delay(function(){ equal(counter, 4, &quot;incr was throttled&quot;); start(); }, 400);
  });

  asyncTest(&quot;throttle arguments&quot;, 2, function() {
    var value = 0;
    var update = function(val){ value = val; };
    var throttledUpdate = _.throttle(update, 100);
    throttledUpdate(1); throttledUpdate(2); throttledUpdate(3);
    setTimeout(function(){ throttledUpdate(4); }, 120);
    setTimeout(function(){ throttledUpdate(5); }, 140);
    setTimeout(function(){ throttledUpdate(6); }, 250);
    _.delay(function(){ equal(value, 1, &quot;updated to latest value&quot;); }, 40);
    _.delay(function(){ equal(value, 6, &quot;updated to latest value&quot;); start(); }, 400);
  });

  asyncTest(&quot;throttle once&quot;, 2, function() {
    var counter = 0;
    var incr = function(){ return ++counter; };
    var throttledIncr = _.throttle(incr, 100);
    var result = throttledIncr();
    _.delay(function(){
      equal(result, 1, &quot;throttled functions return their value&quot;);
      equal(counter, 1, &quot;incr was called once&quot;); start();
    }, 220);
  });

  asyncTest(&quot;throttle twice&quot;, 1, function() {
    var counter = 0;
    var incr = function(){ counter++; };
    var throttledIncr = _.throttle(incr, 100);
    throttledIncr(); throttledIncr();
    _.delay(function(){ equal(counter, 2, &quot;incr was called twice&quot;); start(); }, 220);
  });

  asyncTest(&quot;throttle repeatedly with results&quot;, 9, function() {
    var counter = 0;
    var incr = function(){ return ++counter; };
    var throttledIncr = _.throttle(incr, 100);
    var results = [];
    var saveResult = function() { results.push(throttledIncr()); };
    saveResult(); saveResult(); saveResult();
    setTimeout(saveResult, 70);
    setTimeout(saveResult, 120);
    setTimeout(saveResult, 140);
    setTimeout(saveResult, 190);
    setTimeout(saveResult, 240);
    setTimeout(saveResult, 260);
    _.delay(function() {
      equal(results[0], 1, &quot;incr was called once&quot;);
      equal(results[1], 1, &quot;incr was throttled&quot;);
      equal(results[2], 1, &quot;incr was throttled&quot;);
      equal(results[3], 1, &quot;incr was throttled&quot;);
      equal(results[4], 2, &quot;incr was called twice&quot;);
      equal(results[5], 2, &quot;incr was throttled&quot;);
      equal(results[6], 2, &quot;incr was throttled&quot;);
      equal(results[7], 3, &quot;incr was called thrice&quot;);
      equal(results[8], 3, &quot;incr was throttled&quot;);
      start();
    }, 400);
  });

  asyncTest(&quot;debounce&quot;, 1, function() {
    var counter = 0;
    var incr = function(){ counter++; };
    var debouncedIncr = _.debounce(incr, 50);
    debouncedIncr(); debouncedIncr(); debouncedIncr();
    setTimeout(debouncedIncr, 30);
    setTimeout(debouncedIncr, 60);
    setTimeout(debouncedIncr, 90);
    setTimeout(debouncedIncr, 120);
    setTimeout(debouncedIncr, 150);
    _.delay(function(){ equal(counter, 1, &quot;incr was debounced&quot;); start(); }, 220);
  });

  asyncTest(&quot;debounce asap&quot;, 5, function() {
    var a, b, c;
    var counter = 0;
    var incr = function(){ return ++counter; };
    var debouncedIncr = _.debounce(incr, 50, true);
    a = debouncedIncr();
    b = debouncedIncr();
    c = debouncedIncr();
    equal(a, 1);
    equal(b, 1);
    equal(c, 1);
    equal(counter, 1, &#039;incr was called immediately&#039;);
    setTimeout(debouncedIncr, 30);
    setTimeout(debouncedIncr, 60);
    setTimeout(debouncedIncr, 90);
    setTimeout(debouncedIncr, 120);
    setTimeout(debouncedIncr, 150);
    _.delay(function(){ equal(counter, 1, &quot;incr was debounced&quot;); start(); }, 220);
  });

  asyncTest(&quot;debounce asap recursively&quot;, 2, function() {
    var counter = 0;
    var debouncedIncr = _.debounce(function(){
      counter++;
      if (counter &lt; 5) debouncedIncr();
    }, 50, true);
    debouncedIncr();
    equal(counter, 1, &#039;incr was called immediately&#039;);
    _.delay(function(){ equal(counter, 1, &quot;incr was debounced&quot;); start(); }, 70);
  });

  test(&quot;once&quot;, function() {
    var num = 0;
    var increment = _.once(function(){ num++; });
    increment();
    increment();
    equal(num, 1);
  });

  test(&quot;wrap&quot;, function() {
    var greet = function(name){ return &quot;hi: &quot; + name; };
    var backwards = _.wrap(greet, function(func, name){ return func(name) + &#039; &#039; + name.split(&#039;&#039;).reverse().join(&#039;&#039;); });
    equal(backwards(&#039;moe&#039;), &#039;hi: moe eom&#039;, &#039;wrapped the saluation function&#039;);

    var inner = function(){ return &quot;Hello &quot;; };
    var obj   = {name : &quot;Moe&quot;};
    obj.hi    = _.wrap(inner, function(fn){ return fn() + this.name; });
    equal(obj.hi(), &quot;Hello Moe&quot;);

    var noop    = function(){};
    var wrapped = _.wrap(noop, function(fn){ return Array.prototype.slice.call(arguments, 0); });
    var ret     = wrapped([&#039;whats&#039;, &#039;your&#039;], &#039;vector&#039;, &#039;victor&#039;);
    deepEqual(ret, [noop, [&#039;whats&#039;, &#039;your&#039;], &#039;vector&#039;, &#039;victor&#039;]);
  });

  test(&quot;compose&quot;, function() {
    var greet = function(name){ return &quot;hi: &quot; + name; };
    var exclaim = function(sentence){ return sentence + &#039;!&#039;; };
    var composed = _.compose(exclaim, greet);
    equal(composed(&#039;moe&#039;), &#039;hi: moe!&#039;, &#039;can compose a function that takes another&#039;);

    composed = _.compose(greet, exclaim);
    equal(composed(&#039;moe&#039;), &#039;hi: moe!&#039;, &#039;in this case, the functions are also commutative&#039;);
  });

  test(&quot;after&quot;, function() {
    var testAfter = function(afterAmount, timesCalled) {
      var afterCalled = 0;
      var after = _.after(afterAmount, function() {
        afterCalled++;
      });
      while (timesCalled--) after();
      return afterCalled;
    };

    equal(testAfter(5, 5), 1, &quot;after(N) should fire after being called N times&quot;);
    equal(testAfter(5, 4), 0, &quot;after(N) should not fire unless called N times&quot;);
    equal(testAfter(0, 0), 1, &quot;after(0) should fire immediately&quot;);
  });

});</textarea>
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p>.</p>
  </div>
</footer>

<script type="text/html" id="complexity-popover-template">
  <div class="complexity-notice">
    Complexity : {{ complexity.cyclomatic }} <br>
    Length : {{ complexity.halstead.length }} <br>
    Difficulty : {{ complexity.halstead.difficulty.toFixed(2) }} <br>
    Est # bugs : {{ complexity.halstead.bugs.toFixed(2) }}<br>
  </div>
</script>

<script type="text/javascript" src="../../assets/scripts/bundles/core-bundle.js"></script>
<script type="text/javascript" src="../../assets/scripts/bundles/codemirror.js"></script>
<script type="text/javascript" src="../../assets/scripts/codemirror.markpopovertext.js"></script>
<script type="text/javascript" src="report.js"></script>
<script type="text/javascript" src="report.history.js"></script>
<script type="text/javascript" src="../../assets/scripts/plato-file.js"></script>
</body>
</html>
