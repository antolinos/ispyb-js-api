<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Plato - node_modules/grunt-legacy-log/node_modules/underscore.string/test/test_underscore/utility.js</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">

  <!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <link href="../../assets/css/vendor/morris.css" rel="stylesheet">
  <link href="../../assets/css/vendor/bootstrap.css" rel="stylesheet">
  <link href="../../assets/css/vendor/font-awesome.css" rel="stylesheet">
  <link href="../../assets/css/vendor/codemirror.css" rel="stylesheet">
  <link href="../../assets/css/plato.css" rel="stylesheet">
  <link href="../../assets/css/plato-file.css" rel="stylesheet">

</head>

<body>

<div class="navbar navbar-fixed-top">
  <div class="container">
    <a class="navbar-brand" href="http://github.com/es-analysis/plato">Plato on Github</a>
    <ul class="nav navbar-nav">
      <li>
        <a href="../../index.html">Report Home</a>
      </li>
    </ul>
  </div>
</div>

<div class="jumbotron">
  <div class="container">
    <h1>node_modules/grunt-legacy-log/node_modules/underscore.string/test/test_underscore/utility.js</h1>
  </div>
</div>

<div class="container aggregate-stats">
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Maintainability <a href="http://blogs.msdn.com/b/codeanalysis/archive/2007/11/20/maintainability-index-range-and-meaning.aspx"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="A value between 0 and 100 that represents the relative ease of maintaining the code. A high value means better maintainability." data-original-title="Maintainability Index"  data-container="body"></i></a></h2>
      <p class="stat">64.84</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Lines of code <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h2>
      <p class="stat">249</p>
    </div>
  </div>
  <div class="row historical">
    <div class="col-md-6">
      <p id="chart_historical_maint" class="chart"></p>
    </div>
    <div class="col-md-6">
      <p id="chart_historical_sloc" class="chart"></p>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Difficulty  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="The difficulty measure is related to the difficulty of the program to write or understand." data-original-title="Difficulty" data-container="body"></i></a></h2>
      <p class="stat">30.06</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Estimated Errors  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Halstead's delivered bugs is an estimate for the number of errors in the implementation." data-original-title="Delivered Bugs" data-container="body"></i></a></h2>
      <p class="stat">3.25</p>
    </div>
  </div>
</div>

<div class="container charts">
  <div class="row">
    <h2 class="header">Function weight</h2>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h3 class="chart-header">By Complexity <a href="http://en.wikipedia.org/wiki/Cyclomatic_complexity"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="This metric counts the number of distinct paths through a block of code. Lower values are better." data-original-title="Cyclomatic Complexity" data-container="body"></i></a></h3>
      <div id="fn-by-complexity" class="stat"></div>
    </div>
    <div class="col-md-6">
      <h3 class="chart-header">By SLOC  <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h3>
      <div id="fn-by-sloc" class="stat"></div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row">
    <textarea id="file-source" class="col-md-12">$(document).ready(function() {

  var templateSettings;

  module(&quot;Utility&quot;, {

    setup: function() {
      templateSettings = _.clone(_.templateSettings);
    },

    teardown: function() {
      _.templateSettings = templateSettings;
    }

  });

  test(&quot;#750 - Return _ instance.&quot;, 2, function() {
    var instance = _([]);
    ok(_(instance) === instance);
    ok(new _(instance) === instance);
  });

  test(&quot;identity&quot;, function() {
    var moe = {name : &#039;moe&#039;};
    equal(_.identity(moe), moe, &#039;moe is the same as his identity&#039;);
  });

  test(&quot;uniqueId&quot;, function() {
    var ids = [], i = 0;
    while(i++ &lt; 100) ids.push(_.uniqueId());
    equal(_.uniq(ids).length, ids.length, &#039;can generate a globally-unique stream of ids&#039;);
  });

  test(&quot;times&quot;, function() {
    var vals = [];
    _.times(3, function (i) { vals.push(i); });
    ok(_.isEqual(vals, [0,1,2]), &quot;is 0 indexed&quot;);
    //
    vals = [];
    _(3).times(function (i) { vals.push(i); });
    ok(_.isEqual(vals, [0,1,2]), &quot;works as a wrapper&quot;);
  });

  test(&quot;mixin&quot;, function() {
    _.mixin({
      myReverse: function(string) {
        return string.split(&#039;&#039;).reverse().join(&#039;&#039;);
      }
    });
    equal(_.myReverse(&#039;panacea&#039;), &#039;aecanap&#039;, &#039;mixed in a function to _&#039;);
    equal(_(&#039;champ&#039;).myReverse(), &#039;pmahc&#039;, &#039;mixed in a function to the OOP wrapper&#039;);
  });

  test(&quot;_.escape&quot;, function() {
    equal(_.escape(&quot;Curly &amp; Moe&quot;), &quot;Curly &amp;amp; Moe&quot;);
    equal(_.escape(&quot;Curly &amp;amp; Moe&quot;), &quot;Curly &amp;amp;amp; Moe&quot;);
    equal(_.escape(null), &#039;&#039;);
  });

  test(&quot;_.unescape&quot;, function() {
    var string = &quot;Curly &amp; Moe&quot;;
    equal(_.unescape(&quot;Curly &amp;amp; Moe&quot;), string);
    equal(_.unescape(&quot;Curly &amp;amp;amp; Moe&quot;), &quot;Curly &amp;amp; Moe&quot;);
    equal(_.unescape(null), &#039;&#039;);
    equal(_.unescape(_.escape(string)), string);
  });

  test(&quot;template&quot;, function() {
    var basicTemplate = _.template(&quot;&lt;%= thing %&gt; is gettin&#039; on my noives!&quot;);
    var result = basicTemplate({thing : &#039;This&#039;});
    equal(result, &quot;This is gettin&#039; on my noives!&quot;, &#039;can do basic attribute interpolation&#039;);

    var sansSemicolonTemplate = _.template(&quot;A &lt;% this %&gt; B&quot;);
    equal(sansSemicolonTemplate(), &quot;A  B&quot;);

    var backslashTemplate = _.template(&quot;&lt;%= thing %&gt; is \\ridanculous&quot;);
    equal(backslashTemplate({thing: &#039;This&#039;}), &quot;This is \\ridanculous&quot;);

    var escapeTemplate = _.template(&#039;&lt;%= a ? &quot;checked=\\&quot;checked\\&quot;&quot; : &quot;&quot; %&gt;&#039;);
    equal(escapeTemplate({a: true}), &#039;checked=&quot;checked&quot;&#039;, &#039;can handle slash escapes in interpolations.&#039;);

    var fancyTemplate = _.template(&quot;&lt;ul&gt;&lt;% \
      for (key in people) { \
    %&gt;&lt;li&gt;&lt;%= people[key] %&gt;&lt;/li&gt;&lt;% } %&gt;&lt;/ul&gt;&quot;);
    result = fancyTemplate({people : {moe : &quot;Moe&quot;, larry : &quot;Larry&quot;, curly : &quot;Curly&quot;}});
    equal(result, &quot;&lt;ul&gt;&lt;li&gt;Moe&lt;/li&gt;&lt;li&gt;Larry&lt;/li&gt;&lt;li&gt;Curly&lt;/li&gt;&lt;/ul&gt;&quot;, &#039;can run arbitrary javascript in templates&#039;);

    var escapedCharsInJavascriptTemplate = _.template(&quot;&lt;ul&gt;&lt;% _.each(numbers.split(&#039;\\n&#039;), function(item) { %&gt;&lt;li&gt;&lt;%= item %&gt;&lt;/li&gt;&lt;% }) %&gt;&lt;/ul&gt;&quot;);
    result = escapedCharsInJavascriptTemplate({numbers: &quot;one\ntwo\nthree\nfour&quot;});
    equal(result, &quot;&lt;ul&gt;&lt;li&gt;one&lt;/li&gt;&lt;li&gt;two&lt;/li&gt;&lt;li&gt;three&lt;/li&gt;&lt;li&gt;four&lt;/li&gt;&lt;/ul&gt;&quot;, &#039;Can use escaped characters (e.g. \\n) in Javascript&#039;);

    var namespaceCollisionTemplate = _.template(&quot;&lt;%= pageCount %&gt; &lt;%= thumbnails[pageCount] %&gt; &lt;% _.each(thumbnails, function(p) { %&gt;&lt;div class=\&quot;thumbnail\&quot; rel=\&quot;&lt;%= p %&gt;\&quot;&gt;&lt;/div&gt;&lt;% }); %&gt;&quot;);
    result = namespaceCollisionTemplate({
      pageCount: 3,
      thumbnails: {
        1: &quot;p1-thumbnail.gif&quot;,
        2: &quot;p2-thumbnail.gif&quot;,
        3: &quot;p3-thumbnail.gif&quot;
      }
    });
    equal(result, &quot;3 p3-thumbnail.gif &lt;div class=\&quot;thumbnail\&quot; rel=\&quot;p1-thumbnail.gif\&quot;&gt;&lt;/div&gt;&lt;div class=\&quot;thumbnail\&quot; rel=\&quot;p2-thumbnail.gif\&quot;&gt;&lt;/div&gt;&lt;div class=\&quot;thumbnail\&quot; rel=\&quot;p3-thumbnail.gif\&quot;&gt;&lt;/div&gt;&quot;);

    var noInterpolateTemplate = _.template(&quot;&lt;div&gt;&lt;p&gt;Just some text. Hey, I know this is silly but it aids consistency.&lt;/p&gt;&lt;/div&gt;&quot;);
    result = noInterpolateTemplate();
    equal(result, &quot;&lt;div&gt;&lt;p&gt;Just some text. Hey, I know this is silly but it aids consistency.&lt;/p&gt;&lt;/div&gt;&quot;);

    var quoteTemplate = _.template(&quot;It&#039;s its, not it&#039;s&quot;);
    equal(quoteTemplate({}), &quot;It&#039;s its, not it&#039;s&quot;);

    var quoteInStatementAndBody = _.template(&quot;&lt;%\
      if(foo == &#039;bar&#039;){ \
    %&gt;Statement quotes and &#039;quotes&#039;.&lt;% } %&gt;&quot;);
    equal(quoteInStatementAndBody({foo: &quot;bar&quot;}), &quot;Statement quotes and &#039;quotes&#039;.&quot;);

    var withNewlinesAndTabs = _.template(&#039;This\n\t\tis: &lt;%= x %&gt;.\n\tok.\nend.&#039;);
    equal(withNewlinesAndTabs({x: &#039;that&#039;}), &#039;This\n\t\tis: that.\n\tok.\nend.&#039;);

    var template = _.template(&quot;&lt;i&gt;&lt;%- value %&gt;&lt;/i&gt;&quot;);
    var result = template({value: &quot;&lt;script&gt;&quot;});
    equal(result, &#039;&lt;i&gt;&amp;lt;script&amp;gt;&lt;/i&gt;&#039;);

    var stooge = {
      name: &quot;Moe&quot;,
      template: _.template(&quot;I&#039;m &lt;%= this.name %&gt;&quot;)
    };
    equal(stooge.template(), &quot;I&#039;m Moe&quot;);

    if (!$.browser.msie) {
      var fromHTML = _.template($(&#039;#template&#039;).html());
      equal(fromHTML({data : 12345}).replace(/\s/g, &#039;&#039;), &#039;&lt;li&gt;24690&lt;/li&gt;&#039;);
    }

    _.templateSettings = {
      evaluate    : /\{\{([\s\S]+?)\}\}/g,
      interpolate : /\{\{=([\s\S]+?)\}\}/g
    };

    var custom = _.template(&quot;&lt;ul&gt;{{ for (key in people) { }}&lt;li&gt;{{= people[key] }}&lt;/li&gt;{{ } }}&lt;/ul&gt;&quot;);
    result = custom({people : {moe : &quot;Moe&quot;, larry : &quot;Larry&quot;, curly : &quot;Curly&quot;}});
    equal(result, &quot;&lt;ul&gt;&lt;li&gt;Moe&lt;/li&gt;&lt;li&gt;Larry&lt;/li&gt;&lt;li&gt;Curly&lt;/li&gt;&lt;/ul&gt;&quot;, &#039;can run arbitrary javascript in templates&#039;);

    var customQuote = _.template(&quot;It&#039;s its, not it&#039;s&quot;);
    equal(customQuote({}), &quot;It&#039;s its, not it&#039;s&quot;);

    var quoteInStatementAndBody = _.template(&quot;{{ if(foo == &#039;bar&#039;){ }}Statement quotes and &#039;quotes&#039;.{{ } }}&quot;);
    equal(quoteInStatementAndBody({foo: &quot;bar&quot;}), &quot;Statement quotes and &#039;quotes&#039;.&quot;);

    _.templateSettings = {
      evaluate    : /&lt;\?([\s\S]+?)\?&gt;/g,
      interpolate : /&lt;\?=([\s\S]+?)\?&gt;/g
    };

    var customWithSpecialChars = _.template(&quot;&lt;ul&gt;&lt;? for (key in people) { ?&gt;&lt;li&gt;&lt;?= people[key] ?&gt;&lt;/li&gt;&lt;? } ?&gt;&lt;/ul&gt;&quot;);
    result = customWithSpecialChars({people : {moe : &quot;Moe&quot;, larry : &quot;Larry&quot;, curly : &quot;Curly&quot;}});
    equal(result, &quot;&lt;ul&gt;&lt;li&gt;Moe&lt;/li&gt;&lt;li&gt;Larry&lt;/li&gt;&lt;li&gt;Curly&lt;/li&gt;&lt;/ul&gt;&quot;, &#039;can run arbitrary javascript in templates&#039;);

    var customWithSpecialCharsQuote = _.template(&quot;It&#039;s its, not it&#039;s&quot;);
    equal(customWithSpecialCharsQuote({}), &quot;It&#039;s its, not it&#039;s&quot;);

    var quoteInStatementAndBody = _.template(&quot;&lt;? if(foo == &#039;bar&#039;){ ?&gt;Statement quotes and &#039;quotes&#039;.&lt;? } ?&gt;&quot;);
    equal(quoteInStatementAndBody({foo: &quot;bar&quot;}), &quot;Statement quotes and &#039;quotes&#039;.&quot;);

    _.templateSettings = {
      interpolate : /\{\{(.+?)\}\}/g
    };

    var mustache = _.template(&quot;Hello {{planet}}!&quot;);
    equal(mustache({planet : &quot;World&quot;}), &quot;Hello World!&quot;, &quot;can mimic mustache.js&quot;);

    var templateWithNull = _.template(&quot;a null undefined {{planet}}&quot;);
    equal(templateWithNull({planet : &quot;world&quot;}), &quot;a null undefined world&quot;, &quot;can handle missing escape and evaluate settings&quot;);
  });

  test(&#039;_.template provides the generated function source, when a SyntaxError occurs&#039;, function() {
    try {
      _.template(&#039;&lt;b&gt;&lt;%= if %&gt;&lt;/b&gt;&#039;);
    } catch (e) {
      ok(e.source.indexOf(&#039;( if )&#039;) &gt; 0);
    }
  });

  test(&#039;_.template handles \\u2028 &amp; \\u2029&#039;, function() {
    var tmpl = _.template(&#039;&lt;p&gt;\u2028&lt;%= &quot;\\u2028\\u2029&quot; %&gt;\u2029&lt;/p&gt;&#039;);
    strictEqual(tmpl(), &#039;&lt;p&gt;\u2028\u2028\u2029\u2029&lt;/p&gt;&#039;);
  });

  test(&#039;result calls functions and returns primitives&#039;, function() {
    var obj = {w: &#039;&#039;, x: &#039;x&#039;, y: function(){ return this.x; }};
    strictEqual(_.result(obj, &#039;w&#039;), &#039;&#039;);
    strictEqual(_.result(obj, &#039;x&#039;), &#039;x&#039;);
    strictEqual(_.result(obj, &#039;y&#039;), &#039;x&#039;);
    strictEqual(_.result(obj, &#039;z&#039;), undefined);
    strictEqual(_.result(null, &#039;x&#039;), null);
  });

  test(&#039;_.templateSettings.variable&#039;, function() {
    var s = &#039;&lt;%=data.x%&gt;&#039;;
    var data = {x: &#039;x&#039;};
    strictEqual(_.template(s, data, {variable: &#039;data&#039;}), &#039;x&#039;);
    _.templateSettings.variable = &#039;data&#039;;
    strictEqual(_.template(s)(data), &#039;x&#039;);
  });

  test(&#039;#547 - _.templateSettings is unchanged by custom settings.&#039;, function() {
    ok(!_.templateSettings.variable);
    _.template(&#039;&#039;, {}, {variable: &#039;x&#039;});
    ok(!_.templateSettings.variable);
  });

  test(&#039;#556 - undefined template variables.&#039;, function() {
    var template = _.template(&#039;&lt;%=x%&gt;&#039;);
    strictEqual(template({x: null}), &#039;&#039;);
    strictEqual(template({x: undefined}), &#039;&#039;);

    var templateEscaped = _.template(&#039;&lt;%-x%&gt;&#039;);
    strictEqual(templateEscaped({x: null}), &#039;&#039;);
    strictEqual(templateEscaped({x: undefined}), &#039;&#039;);

    var templateWithProperty = _.template(&#039;&lt;%=x.foo%&gt;&#039;);
    strictEqual(templateWithProperty({x: {} }), &#039;&#039;);
    strictEqual(templateWithProperty({x: {} }), &#039;&#039;);

    var templateWithPropertyEscaped = _.template(&#039;&lt;%-x.foo%&gt;&#039;);
    strictEqual(templateWithPropertyEscaped({x: {} }), &#039;&#039;);
    strictEqual(templateWithPropertyEscaped({x: {} }), &#039;&#039;);
  });

  test(&#039;interpolate evaluates code only once.&#039;, 2, function() {
    var count = 0;
    var template = _.template(&#039;&lt;%= f() %&gt;&#039;);
    template({f: function(){ ok(!(count++)); }});

    var countEscaped = 0;
    var templateEscaped = _.template(&#039;&lt;%- f() %&gt;&#039;);
    templateEscaped({f: function(){ ok(!(countEscaped++)); }});
  });

  test(&#039;#746 - _.template settings are not modified.&#039;, 1, function() {
    var settings = {};
    _.template(&#039;&#039;, null, settings);
    deepEqual(settings, {});
  });

  test(&#039;#779 - delimeters are applied to unescaped text.&#039;, 1, function() {
    var template = _.template(&#039;&lt;&lt;\nx\n&gt;&gt;&#039;, null, {evaluate: /&lt;&lt;(.*?)&gt;&gt;/g});
    strictEqual(template(), &#039;&lt;&lt;\nx\n&gt;&gt;&#039;);
  });

});</textarea>
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p>.</p>
  </div>
</footer>

<script type="text/html" id="complexity-popover-template">
  <div class="complexity-notice">
    Complexity : {{ complexity.cyclomatic }} <br>
    Length : {{ complexity.halstead.length }} <br>
    Difficulty : {{ complexity.halstead.difficulty.toFixed(2) }} <br>
    Est # bugs : {{ complexity.halstead.bugs.toFixed(2) }}<br>
  </div>
</script>

<script type="text/javascript" src="../../assets/scripts/bundles/core-bundle.js"></script>
<script type="text/javascript" src="../../assets/scripts/bundles/codemirror.js"></script>
<script type="text/javascript" src="../../assets/scripts/codemirror.markpopovertext.js"></script>
<script type="text/javascript" src="report.js"></script>
<script type="text/javascript" src="report.history.js"></script>
<script type="text/javascript" src="../../assets/scripts/plato-file.js"></script>
</body>
</html>
