<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Plato - node_modules/underscore.string/test/test_underscore/collections.js</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">

  <!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <link href="../../assets/css/vendor/morris.css" rel="stylesheet">
  <link href="../../assets/css/vendor/bootstrap.css" rel="stylesheet">
  <link href="../../assets/css/vendor/font-awesome.css" rel="stylesheet">
  <link href="../../assets/css/vendor/codemirror.css" rel="stylesheet">
  <link href="../../assets/css/plato.css" rel="stylesheet">
  <link href="../../assets/css/plato-file.css" rel="stylesheet">

</head>

<body>

<div class="navbar navbar-fixed-top">
  <div class="container">
    <a class="navbar-brand" href="http://github.com/es-analysis/plato">Plato on Github</a>
    <ul class="nav navbar-nav">
      <li>
        <a href="../../index.html">Report Home</a>
      </li>
    </ul>
  </div>
</div>

<div class="jumbotron">
  <div class="container">
    <h1>node_modules/underscore.string/test/test_underscore/collections.js</h1>
  </div>
</div>

<div class="container aggregate-stats">
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Maintainability <a href="http://blogs.msdn.com/b/codeanalysis/archive/2007/11/20/maintainability-index-range-and-meaning.aspx"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="A value between 0 and 100 that represents the relative ease of maintaining the code. A high value means better maintainability." data-original-title="Maintainability Index"  data-container="body"></i></a></h2>
      <p class="stat">73.70</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Lines of code <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h2>
      <p class="stat">270</p>
    </div>
  </div>
  <div class="row historical">
    <div class="col-md-6">
      <p id="chart_historical_maint" class="chart"></p>
    </div>
    <div class="col-md-6">
      <p id="chart_historical_sloc" class="chart"></p>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Difficulty  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="The difficulty measure is related to the difficulty of the program to write or understand." data-original-title="Difficulty" data-container="body"></i></a></h2>
      <p class="stat">57.58</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Estimated Errors  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Halstead's delivered bugs is an estimate for the number of errors in the implementation." data-original-title="Delivered Bugs" data-container="body"></i></a></h2>
      <p class="stat">5.46</p>
    </div>
  </div>
</div>

<div class="container charts">
  <div class="row">
    <h2 class="header">Function weight</h2>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h3 class="chart-header">By Complexity <a href="http://en.wikipedia.org/wiki/Cyclomatic_complexity"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="This metric counts the number of distinct paths through a block of code. Lower values are better." data-original-title="Cyclomatic Complexity" data-container="body"></i></a></h3>
      <div id="fn-by-complexity" class="stat"></div>
    </div>
    <div class="col-md-6">
      <h3 class="chart-header">By SLOC  <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h3>
      <div id="fn-by-sloc" class="stat"></div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row">
    <textarea id="file-source" class="col-md-12">$(document).ready(function() {

  module(&quot;Collections&quot;);

  test(&quot;collections: each&quot;, function() {
    _.each([1, 2, 3], function(num, i) {
      equals(num, i + 1, &#039;each iterators provide value and iteration count&#039;);
    });

    var answers = [];
    _.each([1, 2, 3], function(num){ answers.push(num * this.multiplier);}, {multiplier : 5});
    equals(answers.join(&#039;, &#039;), &#039;5, 10, 15&#039;, &#039;context object property accessed&#039;);

    answers = [];
    _.forEach([1, 2, 3], function(num){ answers.push(num); });
    equals(answers.join(&#039;, &#039;), &#039;1, 2, 3&#039;, &#039;aliased as &quot;forEach&quot;&#039;);

    answers = [];
    var obj = {one : 1, two : 2, three : 3};
    obj.constructor.prototype.four = 4;
    _.each(obj, function(value, key){ answers.push(key); });
    equals(answers.join(&quot;, &quot;), &#039;one, two, three&#039;, &#039;iterating over objects works, and ignores the object prototype.&#039;);
    delete obj.constructor.prototype.four;

    answer = null;
    _.each([1, 2, 3], function(num, index, arr){ if (_.include(arr, num)) answer = true; });
    ok(answer, &#039;can reference the original collection from inside the iterator&#039;);

    answers = 0;
    _.each(null, function(){ ++answers; });
    equals(answers, 0, &#039;handles a null properly&#039;);
  });

  test(&#039;collections: map&#039;, function() {
    var doubled = _.map([1, 2, 3], function(num){ return num * 2; });
    equals(doubled.join(&#039;, &#039;), &#039;2, 4, 6&#039;, &#039;doubled numbers&#039;);

    doubled = _.collect([1, 2, 3], function(num){ return num * 2; });
    equals(doubled.join(&#039;, &#039;), &#039;2, 4, 6&#039;, &#039;aliased as &quot;collect&quot;&#039;);

    var tripled = _.map([1, 2, 3], function(num){ return num * this.multiplier; }, {multiplier : 3});
    equals(tripled.join(&#039;, &#039;), &#039;3, 6, 9&#039;, &#039;tripled numbers with context&#039;);

    var doubled = _([1, 2, 3]).map(function(num){ return num * 2; });
    equals(doubled.join(&#039;, &#039;), &#039;2, 4, 6&#039;, &#039;OO-style doubled numbers&#039;);

    var ids = _.map($(&#039;div.underscore-test&#039;).children(), function(n){ return n.id; });
    ok(_.include(ids, &#039;qunit-header&#039;), &#039;can use collection methods on NodeLists&#039;);

    var ids = _.map(document.images, function(n){ return n.id; });
    ok(ids[0] == &#039;chart_image&#039;, &#039;can use collection methods on HTMLCollections&#039;);

    var ifnull = _.map(null, function(){});
    ok(_.isArray(ifnull) &amp;&amp; ifnull.length === 0, &#039;handles a null properly&#039;);

    var length = _.map(Array(2), function(v) { return v; }).length;
    equals(length, 2, &quot;can preserve a sparse array&#039;s length&quot;);
  });

  test(&#039;collections: reduce&#039;, function() {
    var sum = _.reduce([1, 2, 3], function(sum, num){ return sum + num; }, 0);
    equals(sum, 6, &#039;can sum up an array&#039;);

    var context = {multiplier : 3};
    sum = _.reduce([1, 2, 3], function(sum, num){ return sum + num * this.multiplier; }, 0, context);
    equals(sum, 18, &#039;can reduce with a context object&#039;);

    sum = _.inject([1, 2, 3], function(sum, num){ return sum + num; }, 0);
    equals(sum, 6, &#039;aliased as &quot;inject&quot;&#039;);

    sum = _([1, 2, 3]).reduce(function(sum, num){ return sum + num; }, 0);
    equals(sum, 6, &#039;OO-style reduce&#039;);

    var sum = _.reduce([1, 2, 3], function(sum, num){ return sum + num; });
    equals(sum, 6, &#039;default initial value&#039;);

    var ifnull;
    try {
      _.reduce(null, function(){});
    } catch (ex) {
      ifnull = ex;
    }
    ok(ifnull instanceof TypeError, &#039;handles a null (without inital value) properly&#039;);

    ok(_.reduce(null, function(){}, 138) === 138, &#039;handles a null (with initial value) properly&#039;);
    equals(_.reduce([], function(){}, undefined), undefined, &#039;undefined can be passed as a special case&#039;);
    raises(function() { _.reduce([], function(){}); }, TypeError, &#039;throws an error for empty arrays with no initial value&#039;);

    var sparseArray = [];
    sparseArray[0] = 20;
    sparseArray[2] = -5;
    equals(_.reduce(sparseArray, function(a, b){ return a - b; }), 25, &#039;initially-sparse arrays with no memo&#039;);
  });

  test(&#039;collections: reduceRight&#039;, function() {
    var list = _.reduceRight([&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;], function(memo, str){ return memo + str; }, &#039;&#039;);
    equals(list, &#039;bazbarfoo&#039;, &#039;can perform right folds&#039;);

    var list = _.foldr([&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;], function(memo, str){ return memo + str; }, &#039;&#039;);
    equals(list, &#039;bazbarfoo&#039;, &#039;aliased as &quot;foldr&quot;&#039;);

    var list = _.foldr([&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;], function(memo, str){ return memo + str; });
    equals(list, &#039;bazbarfoo&#039;, &#039;default initial value&#039;);

    var ifnull;
    try {
      _.reduceRight(null, function(){});
    } catch (ex) {
      ifnull = ex;
    }
    ok(ifnull instanceof TypeError, &#039;handles a null (without inital value) properly&#039;);

    ok(_.reduceRight(null, function(){}, 138) === 138, &#039;handles a null (with initial value) properly&#039;);

    equals(_.reduceRight([], function(){}, undefined), undefined, &#039;undefined can be passed as a special case&#039;);
    raises(function() { _.reduceRight([], function(){}); }, TypeError, &#039;throws an error for empty arrays with no initial value&#039;);

    var sparseArray = [];
    sparseArray[0] = 20;
    sparseArray[2] = -5;
    equals(_.reduceRight(sparseArray, function(a, b){ return a - b; }), -25, &#039;initially-sparse arrays with no memo&#039;);
  });

  test(&#039;collections: detect&#039;, function() {
    var result = _.detect([1, 2, 3], function(num){ return num * 2 == 4; });
    equals(result, 2, &#039;found the first &quot;2&quot; and broke the loop&#039;);
  });

  test(&#039;collections: select&#039;, function() {
    var evens = _.select([1, 2, 3, 4, 5, 6], function(num){ return num % 2 == 0; });
    equals(evens.join(&#039;, &#039;), &#039;2, 4, 6&#039;, &#039;selected each even number&#039;);

    evens = _.filter([1, 2, 3, 4, 5, 6], function(num){ return num % 2 == 0; });
    equals(evens.join(&#039;, &#039;), &#039;2, 4, 6&#039;, &#039;aliased as &quot;filter&quot;&#039;);
  });

  test(&#039;collections: reject&#039;, function() {
    var odds = _.reject([1, 2, 3, 4, 5, 6], function(num){ return num % 2 == 0; });
    equals(odds.join(&#039;, &#039;), &#039;1, 3, 5&#039;, &#039;rejected each even number&#039;);
  });

  test(&#039;collections: all&#039;, function() {
    ok(_.all([], _.identity), &#039;the empty set&#039;);
    ok(_.all([true, true, true], _.identity), &#039;all true values&#039;);
    ok(!_.all([true, false, true], _.identity), &#039;one false value&#039;);
    ok(_.all([0, 10, 28], function(num){ return num % 2 == 0; }), &#039;even numbers&#039;);
    ok(!_.all([0, 11, 28], function(num){ return num % 2 == 0; }), &#039;an odd number&#039;);
    ok(_.every([true, true, true], _.identity), &#039;aliased as &quot;every&quot;&#039;);
  });

  test(&#039;collections: any&#039;, function() {
    var nativeSome = Array.prototype.some;
    Array.prototype.some = null;
    ok(!_.any([]), &#039;the empty set&#039;);
    ok(!_.any([false, false, false]), &#039;all false values&#039;);
    ok(_.any([false, false, true]), &#039;one true value&#039;);
    ok(_.any([null, 0, &#039;yes&#039;, false]), &#039;a string&#039;);
    ok(!_.any([null, 0, &#039;&#039;, false]), &#039;falsy values&#039;);
    ok(!_.any([1, 11, 29], function(num){ return num % 2 == 0; }), &#039;all odd numbers&#039;);
    ok(_.any([1, 10, 29], function(num){ return num % 2 == 0; }), &#039;an even number&#039;);
    ok(_.some([false, false, true]), &#039;aliased as &quot;some&quot;&#039;);
    Array.prototype.some = nativeSome;
  });

  test(&#039;collections: include&#039;, function() {
    ok(_.include([1,2,3], 2), &#039;two is in the array&#039;);
    ok(!_.include([1,3,9], 2), &#039;two is not in the array&#039;);
    ok(_.contains({moe:1, larry:3, curly:9}, 3) === true, &#039;_.include on objects checks their values&#039;);
    ok(_([1,2,3]).include(2), &#039;OO-style include&#039;);
  });

  test(&#039;collections: invoke&#039;, function() {
    var list = [[5, 1, 7], [3, 2, 1]];
    var result = _.invoke(list, &#039;sort&#039;);
    equals(result[0].join(&#039;, &#039;), &#039;1, 5, 7&#039;, &#039;first array sorted&#039;);
    equals(result[1].join(&#039;, &#039;), &#039;1, 2, 3&#039;, &#039;second array sorted&#039;);
  });

  test(&#039;collections: invoke w/ function reference&#039;, function() {
    var list = [[5, 1, 7], [3, 2, 1]];
    var result = _.invoke(list, Array.prototype.sort);
    equals(result[0].join(&#039;, &#039;), &#039;1, 5, 7&#039;, &#039;first array sorted&#039;);
    equals(result[1].join(&#039;, &#039;), &#039;1, 2, 3&#039;, &#039;second array sorted&#039;);
  });

  // Relevant when using ClojureScript
  test(&#039;collections: invoke when strings have a call method&#039;, function() {
    String.prototype.call = function(){return 42;}
    var list = [[5, 1, 7], [3, 2, 1]];
    var s = &quot;foo&quot;;
    equals(s.call(), 42, &quot;call function exists&quot;);
    var result = _.invoke(list, &#039;sort&#039;);
    equals(result[0].join(&#039;, &#039;), &#039;1, 5, 7&#039;, &#039;first array sorted&#039;);
    equals(result[1].join(&#039;, &#039;), &#039;1, 2, 3&#039;, &#039;second array sorted&#039;);
    delete String.prototype.call;
    equals(s.call, undefined, &quot;call function removed&quot;);
  });

  test(&#039;collections: pluck&#039;, function() {
    var people = [{name : &#039;moe&#039;, age : 30}, {name : &#039;curly&#039;, age : 50}];
    equals(_.pluck(people, &#039;name&#039;).join(&#039;, &#039;), &#039;moe, curly&#039;, &#039;pulls names out of objects&#039;);
  });

  test(&#039;collections: max&#039;, function() {
    equals(3, _.max([1, 2, 3]), &#039;can perform a regular Math.max&#039;);

    var neg = _.max([1, 2, 3], function(num){ return -num; });
    equals(neg, 1, &#039;can perform a computation-based max&#039;);

    equals(-Infinity, _.max({}), &#039;Maximum value of an empty object&#039;);
    equals(-Infinity, _.max([]), &#039;Maximum value of an empty array&#039;);
  });

  test(&#039;collections: min&#039;, function() {
    equals(1, _.min([1, 2, 3]), &#039;can perform a regular Math.min&#039;);

    var neg = _.min([1, 2, 3], function(num){ return -num; });
    equals(neg, 3, &#039;can perform a computation-based min&#039;);

    equals(Infinity, _.min({}), &#039;Minimum value of an empty object&#039;);
    equals(Infinity, _.min([]), &#039;Minimum value of an empty array&#039;);
  });

  test(&#039;collections: sortBy&#039;, function() {
    var people = [{name : &#039;curly&#039;, age : 50}, {name : &#039;moe&#039;, age : 30}];
    people = _.sortBy(people, function(person){ return person.age; });
    equals(_.pluck(people, &#039;name&#039;).join(&#039;, &#039;), &#039;moe, curly&#039;, &#039;stooges sorted by age&#039;);
  });

  test(&#039;collections: groupBy&#039;, function() {
    var parity = _.groupBy([1, 2, 3, 4, 5, 6], function(num){ return num % 2; });
    ok(&#039;0&#039; in parity &amp;&amp; &#039;1&#039; in parity, &#039;created a group for each value&#039;);
    equals(parity[0].join(&#039;, &#039;), &#039;2, 4, 6&#039;, &#039;put each even number in the right group&#039;);

    var list = [&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;, &quot;five&quot;, &quot;six&quot;, &quot;seven&quot;, &quot;eight&quot;, &quot;nine&quot;, &quot;ten&quot;];
    var grouped = _.groupBy(list, &#039;length&#039;);
    equals(grouped[&#039;3&#039;].join(&#039; &#039;), &#039;one two six ten&#039;);
    equals(grouped[&#039;4&#039;].join(&#039; &#039;), &#039;four five nine&#039;);
    equals(grouped[&#039;5&#039;].join(&#039; &#039;), &#039;three seven eight&#039;);
  });

  test(&#039;collections: sortedIndex&#039;, function() {
    var numbers = [10, 20, 30, 40, 50], num = 35;
    var index = _.sortedIndex(numbers, num);
    equals(index, 3, &#039;35 should be inserted at index 3&#039;);
  });

  test(&#039;collections: shuffle&#039;, function() {
    var numbers = _.range(10);
	var shuffled = _.shuffle(numbers).sort();
	notStrictEqual(numbers, shuffled, &#039;original object is unmodified&#039;);
    equals(shuffled.join(&#039;,&#039;), numbers.join(&#039;,&#039;), &#039;contains the same members before and after shuffle&#039;);
  });

  test(&#039;collections: toArray&#039;, function() {
    ok(!_.isArray(arguments), &#039;arguments object is not an array&#039;);
    ok(_.isArray(_.toArray(arguments)), &#039;arguments object converted into array&#039;);
    var a = [1,2,3];
    ok(_.toArray(a) !== a, &#039;array is cloned&#039;);
    equals(_.toArray(a).join(&#039;, &#039;), &#039;1, 2, 3&#039;, &#039;cloned array contains same elements&#039;);

    var numbers = _.toArray({one : 1, two : 2, three : 3});
    equals(numbers.join(&#039;, &#039;), &#039;1, 2, 3&#039;, &#039;object flattened into array&#039;);
  });

  test(&#039;collections: size&#039;, function() {
    equals(_.size({one : 1, two : 2, three : 3}), 3, &#039;can compute the size of an object&#039;);
  });

});</textarea>
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p>.</p>
  </div>
</footer>

<script type="text/html" id="complexity-popover-template">
  <div class="complexity-notice">
    Complexity : {{ complexity.cyclomatic }} <br>
    Length : {{ complexity.halstead.length }} <br>
    Difficulty : {{ complexity.halstead.difficulty.toFixed(2) }} <br>
    Est # bugs : {{ complexity.halstead.bugs.toFixed(2) }}<br>
  </div>
</script>

<script type="text/javascript" src="../../assets/scripts/bundles/core-bundle.js"></script>
<script type="text/javascript" src="../../assets/scripts/bundles/codemirror.js"></script>
<script type="text/javascript" src="../../assets/scripts/codemirror.markpopovertext.js"></script>
<script type="text/javascript" src="report.js"></script>
<script type="text/javascript" src="report.history.js"></script>
<script type="text/javascript" src="../../assets/scripts/plato-file.js"></script>
</body>
</html>
